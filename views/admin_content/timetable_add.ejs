<!DOCTYPE html>
<html lang="en">
    <%- include('../layout/head.ejs') %>.
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script src="js/scripts.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
    <script src="assets/demo/chart-area-demo.js"></script>
    <script src="assets/demo/chart-bar-demo.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js" crossorigin="anonymous"></script>
    <script src="assets/demo/datatables-demo.js"></script>
    <body class="sb-nav-fixed">
        <%- include('../layout/topbar.ejs') %>.
        <div id="layoutSidenav">
            <%- include('sidenav_admin.ejs') %>.
            <div id="layoutSidenav_content">
                <main>
                    <div class="container-fluid">
                        <ol class="breadcrumb mb-4">
                            <li class="breadcrumb-item active">Add New Timetable</li>
                        </ol>
                        <p>Please add daily timetable using Timeslot provided!</p>
                        <div class="form-group"><label class="small mb-1" >Select Pnp Session</label>
                            <select name="roles" class="form-control" style="width: 30%;" id="roles">
                                <option value="">-- Select Session --</option>
                                <option value="morning">Morning</option>
                                <option value="evening">Evening</option>
                            </select>
                    </div>  
                    <!-- Morning From-->
                    <form action="/timetable_morning" method="post" id="form1">
                        <input type="hidden" id="session" name="session" value="Morning">
                        <div class="form-group"><label class="small mb-1" >Select Subject</label>
                            <select name="subject" class="form-control" style="width: 30%;" id="subject">
                                <option value="">-- Select Subject --</option>
                                <% subject.forEach(function (subject) { %>
                                <option value= "<%= subject.subject_name %>" ><%= subject.subject_name %></option>
                                <% }) %>
                            </select>
                        </div>
                        <div class="form-group"><label class="small mb-1" >Select Classroom</label>
                            <select name="classroom" class="form-control" style="width: 30%;" id="classroom">
                                <option value="">-- Select Classroom --</option>
                                <% classroom.forEach(function (classroom) { %>
                                <option value= "<%= classroom._id %>" ><%= classroom.classroom_name %></option>
                                <% }) %>
                            </select>
                        </div>
                        <div class="form-group"><label class="small mb-1" >Select Teacher</label>
                            <select name="teacher" class="form-control" style="width: 30%;" id="teacher">
                                <option value="">-- Select Teacher --</option>
                                <% teacher.forEach(function (teacher) { %>
                                <option value= "<%= teacher._id %>" ><%= teacher.name %></option>
                                <% }) %>
                            </select>
                        </div>o
                        <div class="form-group"><label class="small mb-1" >Select Day</label>
                            <select name="day" class="form-control" style="width: 30%;" id="day">
                                <option value="">-- Select Day --</option>
                                <option value= "Monday" >Monday</option>
                                <option value= "Tuesday" >Tuesday</option>
                                <option value= "Wednesday" >Wednesday</option>
                                <option value= "Thurday" >Thursday</option>
                                <option value= "Friday" >Friday</option>
                            </select>
                        </div>
                        <div class="form-group"><label class="small mb-1" >Select Slot</label>
                            <select name="timeslot" class="form-control" style="width: 30%;" id="timeslot">
                                <option value="">-- Select TimeSlot --</option>
                                <option value= "7.40" >7.40</option>
                                <option value= "8.10" >8.10</option>
                                <option value= "8.40" >8.40</option>
                                <option value= "9.10" >9.10</option>
                                <option value= "9.40" >9.40</option>
                                <option value= "9.40" >9.40 Rehat</option>
                                <option value= "10.30" >10.30</option>
                                <option value= "11.00" >11.00</option>
                                <option value= "11.30" >11.30</option>
                                <option value= "12.00" >12.00</option>
                                <option value= "12.30" >12.30</option>
                                <option value= "1.00" >1.00</option>
                            </select>
                        </div>
                        <div class="form-group mt-4 mb-0"><input type="submit" value="Submit" style="width: 20%;" a class="btn btn-primary btn-block" href="/timetable"></div>           
                    </form>

                    <!-- Evening From-->
                    <form action="/timetable_evening" method="post" id="form2">
                        <input type="hidden" id="session" name="session" value="Evening">
                        <div class="form-group"><label class="small mb-1" >Select Subject</label>
                            <select name="subject" class="form-control" style="width: 30%;" id="subject">
                                <option value="">-- Select Subject --</option>
                                <% subject.forEach(function (subject) { %>
                                <option value= "<%= subject._id %>" ><%= subject.subject_name %></option>
                                <% }) %>
                            </select>
                        </div>
                        <div class="form-group"><label class="small mb-1" >Select Classroom</label>
                            <select name="classroom" class="form-control" style="width: 30%;" id="classroom>
                                <option value="">-- Select Classroom --</option>
                                <% classroom.forEach(function (classroom) { %>
                                <option value= "<%= classroom._id %>" ><%= classroom.classroom_name %></option>
                                <% }) %>
                            </select>
                        </div>
                        <div class="form-group"><label class="small mb-1" >Select Teacher</label>
                            <select name="teacher" class="form-control" style="width: 30%;" id="teacher">
                                <option value="">-- Select Teacher --</option>
                                <% teacher.forEach(function (teacher) { %>
                                <option value= "<%= teacher._id %>" ><%= teacher.name %></option>
                                <% }) %>
                            </select>
                        </div>
                        <div class="form-group"><label class="small mb-1" >Select Day</label>
                            <select name="day" class="form-control" style="width: 30%;" id="day">
                                <option value="">-- Select Day --</option>
                                <option value= "Monday" >Monday</option>
                                <option value= "Tuesday" >Tuesday</option>
                                <option value= "Wednesday" >Wednesday</option>
                                <option value= "Thurday" >Thursday</option>
                                <option value= "Friday" >Frida</option>
                            </select>
                        </div>
                        <div class="form-group"><label class="small mb-1" >Select Slot</label>
                            <select name="timeslot" class="form-control" style="width: 30%;" id="timeslot">
                                <option value="">-- Select TimeSlot --</option>
                                <option value= "1.30" >1.30</option>
                                <option value= "2.00" >2.00</option>
                                <option value= "2.30" >2.30</option>
                                <option value= "3.00" >3.00</option>
                                <option value= "3.30" >3.30</option>
                                <option value= "9.40" >3.30 Rehat 20 minit</option>
                                <option value= "4.20" >4.20</option>
                                <option value= "4.50" >4.50</option>
                                <option value= "5.20" >5.20</option>
                                <option value= "5.50" >5.50</option>
                            </select>
                        </div>
                        <div class="form-group mt-4 mb-0"><input type="submit" value="Submit" style="width: 20%;" a class="btn btn-primary btn-block" href="/timetable"></div>           
                    </form>
                <script>
                    $(document).ready(function(){
                        $("form").hide();
                    })

                    $("#roles").change(function(){
                        stateChange($(this).val());
                    });

                    function stateChange(stateValue){
                        $("form").hide();
                    
                        switch(stateValue){
                        case 'morning':
                            $("#form1").show();
                            break;
                        ;
                        case 'evening':
                            $("#form2").show();
                            break;
                        ;
                        // so on and so on...
                        }
                    }
                </script>
                            
                    </div>
                </main>
                <%- include('../layout/footer.ejs') %>.
            </div>
        </div>
                <%- include('../layout/js.ejs') %>.
    </body>
</html>



